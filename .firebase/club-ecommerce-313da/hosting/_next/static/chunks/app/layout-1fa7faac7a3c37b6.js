(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9883:function(e,t,r){Promise.resolve().then(r.t.bind(r,1702,23)),Promise.resolve().then(r.bind(r,1288)),Promise.resolve().then(r.bind(r,5164)),Promise.resolve().then(r.t.bind(r,3385,23)),Promise.resolve().then(r.bind(r,5451)),Promise.resolve().then(r.bind(r,7426)),Promise.resolve().then(r.bind(r,233)),Promise.resolve().then(r.bind(r,7310))},6523:function(e,t,r){"use strict";var i=r(7437);r(2265),t.Z=e=>{let{children:t,startIcon:r,onClick:s}=e;return(0,i.jsx)("div",{children:(0,i.jsxs)("button",{onClick:s,className:"w-full rounded-lg justify-center  items-center bg-black p-3 text-texto-white text-sm  flex  font-semibold  transition ease-in duration-300",children:[r&&(0,i.jsx)("div",{className:"flex h-full items-center mr-3",children:r}),t]})})}},1288:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var i=r(7437),s=r(4606),n=r(6523),a=r(2806),c=r(3046),o=r(2410),l=r(260),d=e=>{let{product:t}=e,r=(0,c.I0)();return(0,i.jsxs)("div",{className:"flex  items-center mb-4 text-black",children:[(0,i.jsx)("div",{className:" h-56 w-44 block rounded-lg",style:{backgroundImage:"url('".concat(t.imageUrl,"')"),backgroundPosition:"center",backgroundSize:"cover",backgroundRepeat:"no-repeat"}}),(0,i.jsxs)("div",{className:"flex flex-col ml-5",children:[(0,i.jsx)("div",{className:"flex items-end justify-end cursor-pointer",children:(0,i.jsx)(o.QAE,{size:28,onClick:()=>{r((0,l.oN)(t.id))}})}),(0,i.jsx)("p",{className:"text-lg font-semibold",children:t.name}),(0,i.jsxs)("p",{className:"mt-4",children:["R$: ",t.price]}),(0,i.jsxs)("p",{className:"mt-4",children:["Quantidade: ",t.quantity]}),(0,i.jsx)("div",{}),(0,i.jsxs)("div",{className:"flex gap-3 justify-center mt-3",children:[(0,i.jsx)(s.pjk,{size:25,onClick:()=>{r((0,l.cY)(t.id))},className:"cursor-pointer hover:bg-zinc-400 rounded-lg"}),(0,i.jsx)(s.fmn,{size:25,onClick:()=>{r((0,l.ph)(t.id))},className:"cursor-pointer hover:bg-zinc-400 rounded-lg"})]})]})]})},u=r(1498),m=()=>{let e=(0,c.I0)(),{isVisible:t,products:r}=(0,a.Z)(e=>e.cartReducer),o=(0,a.Z)(u.s);return console.log({productTotalPrice:o}),(0,i.jsxs)("div",{className:"fixed h-screen w-screen right-0 left-0 bottom-0 top-0 bg-black bg-opacity-70 flex justify-end transition-all duration-300 \n        ".concat(t?"opacity-100 visible":"opacity-0 invisible"),children:[(0,i.jsx)("div",{className:"w-full",onClick:()=>{e((0,l.l6)())}}),(0,i.jsxs)("div",{className:"h-full w-96  bg-white p-5 overflow-y-scroll",children:[(0,i.jsx)("h1",{className:" text-xl font-semibold mb-15 flex items-center justify-center mb-5",children:"Seu Carrinho"}),r.map(e=>(0,i.jsx)(d,{product:e},e.id)),(0,i.jsxs)("p",{className:"  text-xl mb-4",children:["Pre\xe7o Total: R$:"," ",(0,i.jsx)("span",{className:" font-semibold",children:o})]}),(0,i.jsx)(n.Z,{startIcon:(0,i.jsx)(s._tY,{size:30}),children:"Ir Para o Checkout"})]})]})}},5164:function(e,t,r){"use strict";r.r(t);var i=r(7437),s=r(1396),n=r.n(s),a=r(4606),c=r(3046),o=r(5727),l=r(3085),d=r(260),u=r(2806),m=r(1498),f=r(8512);t.default=()=>{let{isAuthenticated:e}=(0,c.v9)(e=>e.userReducer),t=(0,c.I0)(),r=(0,u.Z)(m.m);return(0,i.jsxs)("div",{className:"  bg-background-dark w-full flex justify-between p-4 text-white shadow-xl",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(n(),{href:"/",children:(0,i.jsx)("h1",{className:"text-lg mr-4",children:"Ecommerce"})})," "]}),(0,i.jsxs)("div",{className:"flex items-center gap-10",children:[(0,i.jsxs)("div",{className:"flex font-semibold text-sm cursor-pointer",onClick:()=>{t((0,d.l6)())},children:[(0,i.jsx)(a.UZs,{size:20}),(0,i.jsx)("p",{className:"ml-1",children:r})]}),(0,i.jsx)(n(),{href:"/explore",children:(0,i.jsx)("div",{className:"font-semibold text-sm cursor-pointer",children:"Explorar"})}),!e&&(0,i.jsx)(n(),{href:"/login",children:(0,i.jsx)("div",{className:"font-semibold text-sm",children:"Login"})}),!0===e&&(0,i.jsx)("div",{className:"font-semibold text-sm cursor-pointer",onClick:()=>{t((0,f.TX)()),(0,l.w7)(o.I8)},children:"Sair"})]})]})}},5451:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return y}});var i=r(7437),s=r(3046),n=r(3944),a=r(1889),c=r(8140),o=r(260),l=r(1981),d=r(4483),u=r(8512);let m=(0,d.UY)({userReducer:u.ZP,cartReducer:o.ZP,categoryReducer:l.Z});var f=r(1850),h=r(7158),x=r(8682);let p={key:"root",storage:f.Z,whiteList:["cartReducer"]},g=(0,h.Z)(p,m),v=(0,c.xC)({reducer:g,middleware:()=>new c.ps(a.I,n.logger)}),b=(0,x.Z)(v);var j=r(3837),y=e=>{let{children:t}=e;return(0,i.jsx)(s.zt,{store:v,children:(0,i.jsx)(j.r,{persistor:b,children:t})})}},1498:function(e,t,r){"use strict";r.d(t,{m:function(){return s},s:function(){return i}});let i=e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.products.reduce((e,t)=>e+t.price*t.quantity,0)},s=e=>{var t;return null===(t=e.cartReducer)||void 0===t?void 0:t.products.reduce((e,t)=>e+t.quantity,0)}},260:function(e,t,r){"use strict";r.d(t,{cY:function(){return a},dA:function(){return s},l6:function(){return l},oN:function(){return o},ph:function(){return c}});let i=(0,r(8140).oM)({name:"cart",initialState:{isVisible:!1,products:[]},reducers:{toggleCart:e=>{e.isVisible=!e.isVisible},addProductToCart:(e,t)=>{let r=t.payload;if(e.products.some(e=>e.id===r.id)){e.products=e.products.map(e=>e.id===r.id?{...e,quantity:e.quantity+1}:e);return}e.products=[...e.products,{...r,quantity:1}]},removeProductFromCart:(e,t)=>{e.products=e.products.filter(e=>e.id!==t.payload)},increaseCartProductQuantity:(e,t)=>{e.products=e.products.map(e=>e.id===t.payload?{...e,quantity:e.quantity+1}:e)},decreaseCartProductQuantity:(e,t)=>{e.products=e.products.map(e=>e.id===t.payload?{...e,quantity:e.quantity-1}:e).filter(e=>e.quantity>0)},clearCartProducts:e=>{e.products=[]}}}),{addProductToCart:s,clearCartProducts:n,decreaseCartProductQuantity:a,increaseCartProductQuantity:c,removeProductFromCart:o,toggleCart:l}=i.actions;t.ZP=i.reducer},1981:function(e,t,r){"use strict";r.d(t,{p:function(){return c}});var i=r(5727),s=r(5009),n=r(8140),a=r(4086);let c=(0,n.hg)("categories/fetch",async()=>{let e=[];return(await (0,a.PL)((0,a.hJ)(i.db,"categories").withConverter(s.I))).forEach(t=>e.push(t.data())),e}),o=(0,n.oM)({name:"categories",initialState:{categories:[],isLoading:!1},reducers:{},extraReducers:e=>{e.addCase(c.pending,e=>{e.isLoading=!0}),e.addCase(c.fulfilled,(e,t)=>{e.categories=t.payload,e.isLoading=!1}),e.addCase(c.rejected,e=>{e.isLoading=!1})}});t.Z=o.reducer},8512:function(e,t,r){"use strict";r.d(t,{TX:function(){return n},pH:function(){return s}});let i=(0,r(8140).oM)({name:"user",initialState:{currentUser:null,isAuthenticated:!1},reducers:{loginUser:(e,t)=>{e.currentUser=t.payload,e.isAuthenticated=!0},logoutUser:e=>{e.currentUser=null,e.isAuthenticated=!1}}}),{loginUser:s,logoutUser:n}=i.actions;t.ZP=i.reducer},5727:function(e,t,r){"use strict";r.d(t,{I8:function(){return o},Vv:function(){return l},db:function(){return c}});var i=r(4086),s=r(994),n=r(3085);let a=(0,s.ZF)({apiKey:"AIzaSyBTWfSnkr_a23YFeGb4ONmHlCFIikumY7k",authDomain:"club-ecommerce-313da.firebaseapp.com",projectId:"club-ecommerce-313da",storageBucket:"club-ecommerce-313da.appspot.com",messagingSenderId:"967700354438",appId:"1:967700354438:web:27ce6090a13d6a231a8807"}),c=(0,i.ad)(a),o=(0,n.v0)(a),l=new n.hJ},7426:function(e,t,r){"use strict";r.r(t),r.d(t,{CartContext:function(){return n}});var i=r(7437),s=r(2265);let n=(0,s.createContext)({isVisible:!1,products:[],toggleCart:()=>{},addProductToCart:()=>{}});t.default=e=>{let{children:t}=e,[r,a]=(0,s.useState)(!1),[c,o]=(0,s.useState)([]);return(0,i.jsx)(n.Provider,{value:{isVisible:r,products:c,toggleCart:()=>{a(e=>!e)},addProductToCart:e=>{o(t=>[...t,{...e,quantity:1}])}},children:t})}},233:function(e,t,r){"use strict";r.r(t),r.d(t,{CategoryContext:function(){return o}});var i=r(7437),s=r(5727),n=r(5009),a=r(4086),c=r(2265);let o=(0,c.createContext)({categories:[],fetchCategories:()=>Promise.resolve(),isLoading:!1});t.default=e=>{let{children:t}=e,[r,l]=(0,c.useState)([]),[d,u]=(0,c.useState)(!1),m=async()=>{try{u(!0);let e=[];(await (0,a.PL)((0,a.hJ)(s.db,"categories").withConverter(n.I))).forEach(t=>e.push(t.data())),l(e)}catch(e){console.log({error:e})}finally{u(!1)}};return(0,c.useEffect)(()=>{m()},[]),(0,i.jsx)(o.Provider,{value:{categories:r,isLoading:d,fetchCategories:m},children:t})}},7310:function(e,t,r){"use strict";r.r(t),r.d(t,{UserContext:function(){return l}});var i=r(7437),s=r(5727),n=r(3085),a=r(4086),c=r(2265),o=r(2601);let l=(0,c.createContext)({adminUser:null,isAdministrador:!1,loginUser:()=>{},logoutUser:()=>{},isAuthenticated:!1});t.default=e=>{let{children:t}=e,[r,d]=(0,c.useState)({email:o.env.USER_EMAIL||"wanderguizi@gmail.com"}),[u,m]=(0,c.useState)(!1),f=null!==r,h=async e=>{let t=(0,a.hJ)(s.db,"users"),r=(0,a.IO)(t,(0,a.ar)("email","==",e));try{(await (0,a.PL)(r)).empty?m(!1):m(!0)}catch(e){console.log(e)}};return(0,c.useEffect)(()=>{(0,n.Aj)(s.I8,e=>{if(e){let t=e.email;t===(null==r?void 0:r.email)&&h(t)}})},[r]),(0,i.jsx)(l.Provider,{value:{adminUser:r,isAdministrador:u,loginUser:e=>{d(e)},logoutUser:()=>{d(null)},isAuthenticated:f},children:t})}},5009:function(e,t,r){"use strict";r.d(t,{I:function(){return i},y:function(){return s}});let i={toFirestore:e=>({...e}),fromFirestore(e,t){let r=e.data(t);return{id:r.id,displayName:r.displayName,imageUrl:r.imageUrl,name:r.name,products:r.products}}},s={toFirestore:e=>({...e}),fromFirestore(e,t){let r=e.data(t);return{id:r.id,email:r.email,firstName:r.firstName,lastName:r.lastName}}}},2806:function(e,t,r){"use strict";r.d(t,{Z:function(){return i}});let i=r(3046).v9},3385:function(){}},function(e){e.O(0,[358,220,447,400,647,46,140,396,205,971,938,744],function(){return e(e.s=9883)}),_N_E=e.O()}]);